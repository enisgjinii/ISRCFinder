<!DOCTYPE html>
<html lang="en" class="light">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=500, height=500, initial-scale=1.0, user-scalable=no">
  <title>ISRC Finder</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@2.1.4/css/boxicons.min.css">
</head>

<body>
  <div class="main-container compact">
    <!-- Compact Header -->
    <div class="compact-header">
      <div class="header-left">
        <img src="icons/logo16.png" alt="ISRC Finder" class="compact-logo">
        <span class="compact-title">ISRC Finder</span>
      </div>
      <div class="header-right">
        <select id="languageSelect" class="compact-select" title="Language">
          <option value="en">ðŸ‡¬ðŸ‡§</option>
          <option value="sq">ðŸ‡¦ðŸ‡±</option>
          <option value="de">ðŸ‡©ðŸ‡ª</option>
        </select>
        <button class="theme-btn compact-btn" data-theme="light" title="Toggle theme"><i class="bx bx-sun"></i></button>
        <button id="openOptionsBtn" class="compact-btn" title="Settings"><i class="bx bx-cog"></i></button>
      </div>
    </div>

    <!-- Search Input -->
    <div class="search-section">
      <div class="input-group compact">
        <input type="text" id="youtubeLinkInput" 
               placeholder="ðŸŽ¬ YouTube URL or ðŸŽµ Song title..." 
               class="main-input">
        <button id="fetchYouTubeBtn" class="search-btn" title="Search (Ctrl+Enter)">
          <i class="bx bx-search"></i>
        </button>
      </div>
    </div>

    <!-- Results section -->
    <div class="results-section" id="resultsCard">
      <div class="results-header">
        <span id="resultsCount" class="results-count">0 results</span>
        <div class="header-actions">
          <button id="searchSpotifyBtn" class="header-btn" title="Search Spotify">
            <i class="bx bxl-spotify"></i>
          </button>
          <button id="fetchSpotifyLinksBtn" class="header-btn" title="Add Spotify links">
            <i class="bx bx-link"></i>
          </button>
          <button id="clearResultsBtn" class="header-btn" title="Clear all">
            <i class="bx bx-trash"></i>
          </button>
          <button id="exportResultsBtn" class="header-btn" title="Export">
            <i class="bx bx-export"></i>
          </button>
        </div>
      </div>
      <div id="results" class="results compact">
        <div class="empty-state" id="emptyState">
          <i class="bx bx-search empty-icon"></i>
          <p>Search for songs to find ISRC codes</p>
        </div>
      </div>
    </div>

    <!-- Hidden Spotify input -->
    <div class="spotify-input" id="spotifyLinkSection" style="display: none;">
      <textarea id="manualSpotifyInput" 
                placeholder="Paste Spotify links here (one per line)..." 
                class="compact-textarea"></textarea>
    </div>
  </div>

  <!-- Toast container -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- Modal placeholder -->
  <div id="modalContainer"></div>

  <!-- Lyrics modal -->
  <div class="modal-backdrop" id="lyricsModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="lyricsTitle"></h3>
        <button class="modal-close" id="closeLyricsModal" aria-label="Close">Ã—</button>
      </div>
      <div class="modal-body">
        <div class="lyrics-content" id="lyricsContent"></div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-blue" id="lyricsDoneBtn">Done</button>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="utils/toast.js" type="module"></script>
  <script src="popup.js" type="module"></script>
</body>

</html>